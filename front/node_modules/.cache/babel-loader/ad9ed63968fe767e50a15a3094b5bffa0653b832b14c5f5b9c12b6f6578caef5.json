{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rosepowell/Desktop/Book_Writing/book_writing/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/rosepowell/Desktop/Book_Writing/book_writing/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/rosepowell/Desktop/Book_Writing/book_writing/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/rosepowell/Desktop/Book_Writing/book_writing/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import axios from'axios';import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(_ref){var _ref$searchFor=_ref.searchFor,searchFor=_ref$searchFor===void 0?0:_ref$searchFor;//searches for books 0, libraries 1, or both 2\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),results=_useState2[0],setResults=_useState2[1];useEffect(function(){var getLoggedInUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,books,libraries;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:res=[];if(!(searchFor===0||searchFor===2)){_context.next=7;break;}_context.next=4;return axios.get('/books');case 4:books=_context.sent;console.log(books.data);res=[].concat(_toConsumableArray(res),_toConsumableArray(books.data));case 7:if(!(searchFor>0)){_context.next=13;break;}_context.next=10;return axios.get('/libraries/public/0');case 10:libraries=_context.sent;console.log(libraries.data);res=[].concat(_toConsumableArray(res),_toConsumableArray(libraries.data));case 13:if(res){setResults(res);}else{setResults(null);}case 14:case\"end\":return _context.stop();}}},_callee);}));return function getLoggedInUser(){return _ref2.apply(this,arguments);};}();getLoggedInUser();},[]);return/*#__PURE__*/_jsxs(\"h1\",{children:[\"searching for \",searchFor]});};export default Search;","map":{"version":3,"names":["useState","useEffect","axios","Search","searchFor","results","setResults","getLoggedInUser","res","get","books","console","log","data","libraries"],"sources":["/Users/rosepowell/Desktop/Book_Writing/book_writing/src/Search.js"],"sourcesContent":["import {useState,useEffect} from 'react';\nimport axios from 'axios';\n\nconst Search =({searchFor=0})=>{\n//searches for books 0, libraries 1, or both 2\n\nconst [results,setResults]= useState(null);\n\n  useEffect(()=>{\n  const getLoggedInUser = async()=>{\n    let res =[];\n    if(searchFor ===0 || searchFor ===2){\n      const books = await axios.get('/books');\n      console.log(books.data);\n      res =[...res,...books.data];\n    }\n    if(searchFor > 0){\n      const libraries = await axios.get('/libraries/public/0');\n      console.log(libraries.data);\n        res =[...res,...libraries.data];\n    }\n\n    if(res){\n      setResults(res);\n    }\n    else{\n      setResults(null);\n    }\n\n  }\n  getLoggedInUser();\n  },[])\n\nreturn <h1>searching for {searchFor}</h1>\n\n\n}\nexport default Search;\n"],"mappings":"4jBAAA,OAAQA,QAAQ,CAACC,SAAS,KAAO,OAAO,CACxC,MAAOC,MAAK,KAAM,OAAO,CAAC,6CAE1B,GAAMC,OAAM,CAAE,QAARA,OAAM,MAAmB,yBAAfC,SAAS,CAATA,SAAS,yBAAC,CAAC,gBAC3B;AAEA,cAA4BJ,QAAQ,CAAC,IAAI,CAAC,wCAAnCK,OAAO,eAACC,UAAU,eAEvBL,SAAS,CAAC,UAAI,CACd,GAAMM,gBAAe,6FAAG,6JAClBC,GAAG,CAAE,EAAE,MACRJ,SAAS,GAAI,CAAC,EAAIA,SAAS,GAAI,CAAC,gDACbF,MAAK,CAACO,GAAG,CAAC,QAAQ,CAAC,QAAjCC,KAAK,eACXC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACG,IAAI,CAAC,CACvBL,GAAG,8BAAMA,GAAG,qBAAIE,KAAK,CAACG,IAAI,EAAC,CAAC,YAE3BT,SAAS,CAAG,CAAC,kDACUF,MAAK,CAACO,GAAG,CAAC,qBAAqB,CAAC,SAAlDK,SAAS,eACfH,OAAO,CAACC,GAAG,CAACE,SAAS,CAACD,IAAI,CAAC,CACzBL,GAAG,8BAAMA,GAAG,qBAAIM,SAAS,CAACD,IAAI,EAAC,CAAC,QAGpC,GAAGL,GAAG,CAAC,CACLF,UAAU,CAACE,GAAG,CAAC,CACjB,CAAC,IACG,CACFF,UAAU,CAAC,IAAI,CAAC,CAClB,CAAC,uDAEF,kBApBKC,gBAAe,2CAoBpB,CACDA,eAAe,EAAE,CACjB,CAAC,CAAC,EAAE,CAAC,CAEP,mBAAO,uCAAmBH,SAAS,GAAM,CAGzC,CAAC,CACD,cAAeD,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}