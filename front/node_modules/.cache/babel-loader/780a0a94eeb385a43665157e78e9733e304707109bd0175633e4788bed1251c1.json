{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport axios from \"axios\";\nconst useAxios = function (initalVal) {\n  _s();\n  let isList = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  const [state, setState] = useState(initalVal);\n  const request = async (type, url, key, data) => {\n    let res = '';\n    switch (type) {\n      case 'get':\n        res = await axios.get(url, {\n          headers: {\n            credentials: 'include'\n          }\n        });\n        break;\n      case 'post':\n        res = await axios.post(url, {\n          credentials: 'include',\n          ...data\n        });\n        break;\n      case 'patch':\n        res = await axios.patch(url, {\n          credentials: 'include',\n          ...data\n        });\n        break;\n      case 'delete':\n        res = await axios.delete(url, {\n          credentials: 'include'\n        });\n        break;\n      default:\n        break;\n    }\n    //     console.log('request data',data);\n    // console.log('request type',type);\n    // console.log('request res',res);\n\n    if (res.data[key]) {\n      console.log(typeof state);\n      console.log(typeof res.data[key]);\n      // typeof res.data[key] === 'array'\n      //  newState = [...state];\n      // let newState;\n      isList ? state ? setState([...state, ...res.data[key]]) : setState([...res.data[key]]) : state ? setState(...state, ...res.data[key]) : setState(res.data[key]);\n      //\n      //\n      //\n      // setState(res.data[key])\n      return {\n        data: res.data[key]\n      };\n    } else if (res.data.message) {\n      console.log('message');\n      if (res.status != 201 && res.status != 200) setState(initalVal);\n      return res.data;\n    }\n    if (res.status === 404) {\n      return {\n        message: `No ${key} found!`\n      };\n    }\n  };\n  return [request, state, setState];\n};\n_s(useAxios, \"Y4ET7KUk7wYObJYpeB+O5979uE8=\");\nexport default useAxios;","map":{"version":3,"names":["useState","axios","useAxios","initalVal","isList","state","setState","request","type","url","key","data","res","get","headers","credentials","post","patch","delete","console","log","message","status"],"sources":["/Users/rosepowell/Desktop/Book_Writing/book_writing/src/hooks/useAxios.js"],"sourcesContent":["\nimport { useState } from \"react\";\nimport axios from \"axios\";\n\nconst useAxios=(initalVal,isList=false)=>{\n  const [state,setState] = useState(initalVal)\n\n  const request=async(type,url,key,data)=>{\n    let res='';\n\n    switch (type){\n      case 'get':\n        res = await axios.get(url, {headers:{credentials: 'include'}});\n        break;\n        case 'post':\n       res = await axios.post(url,{credentials: 'include',...data});\n          break;\n          case 'patch':\n             res = await axios.patch(url,{credentials: 'include',...data});\n            break;\n            case 'delete':\n             res = await axios.delete(url,{credentials: 'include'});\n              break;\n      default:\n      break;\n    }\n//     console.log('request data',data);\n// console.log('request type',type);\n// console.log('request res',res);\n\n    if(res.data[key]){\n      console.log(typeof state);\n      console.log(typeof res.data[key]);\n        // typeof res.data[key] === 'array'\n        //  newState = [...state];\n      // let newState;\n      isList?\n        state?\n        setState([...state,...res.data[key]])\n          :\n        setState([...res.data[key]])\n        :\n        state?\n        setState(...state,...res.data[key])\n          :\n        setState(res.data[key])\n    //\n    //\n    //\n    // setState(res.data[key])\n    return {data: res.data[key]}\n\n    }\n    else if(res.data.message){\n      console.log('message');\n      if(res.status != 201 && res.status != 200)setState(initalVal);\n      return res.data;\n    }\n    if(res.status === 404){\n      return {message:`No ${key} found!`};\n    }\n  }\n\nreturn [request,state,setState];\n}\n\n\nexport default useAxios;\n"],"mappings":";AACA,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAC,UAACC,SAAS,EAAgB;EAAA;EAAA,IAAfC,MAAM,uEAAC,KAAK;EACpC,MAAM,CAACC,KAAK,EAACC,QAAQ,CAAC,GAAGN,QAAQ,CAACG,SAAS,CAAC;EAE5C,MAAMI,OAAO,GAAC,OAAMC,IAAI,EAACC,GAAG,EAACC,GAAG,EAACC,IAAI,KAAG;IACtC,IAAIC,GAAG,GAAC,EAAE;IAEV,QAAQJ,IAAI;MACV,KAAK,KAAK;QACRI,GAAG,GAAG,MAAMX,KAAK,CAACY,GAAG,CAACJ,GAAG,EAAE;UAACK,OAAO,EAAC;YAACC,WAAW,EAAE;UAAS;QAAC,CAAC,CAAC;QAC9D;MACA,KAAK,MAAM;QACZH,GAAG,GAAG,MAAMX,KAAK,CAACe,IAAI,CAACP,GAAG,EAAC;UAACM,WAAW,EAAE,SAAS;UAAC,GAAGJ;QAAI,CAAC,CAAC;QACzD;MACA,KAAK,OAAO;QACTC,GAAG,GAAG,MAAMX,KAAK,CAACgB,KAAK,CAACR,GAAG,EAAC;UAACM,WAAW,EAAE,SAAS;UAAC,GAAGJ;QAAI,CAAC,CAAC;QAC9D;MACA,KAAK,QAAQ;QACZC,GAAG,GAAG,MAAMX,KAAK,CAACiB,MAAM,CAACT,GAAG,EAAC;UAACM,WAAW,EAAE;QAAS,CAAC,CAAC;QACrD;MACR;QACA;IAAM;IAEZ;IACA;IACA;;IAEI,IAAGH,GAAG,CAACD,IAAI,CAACD,GAAG,CAAC,EAAC;MACfS,OAAO,CAACC,GAAG,CAAC,OAAOf,KAAK,CAAC;MACzBc,OAAO,CAACC,GAAG,CAAC,OAAOR,GAAG,CAACD,IAAI,CAACD,GAAG,CAAC,CAAC;MAC/B;MACA;MACF;MACAN,MAAM,GACJC,KAAK,GACLC,QAAQ,CAAC,CAAC,GAAGD,KAAK,EAAC,GAAGO,GAAG,CAACD,IAAI,CAACD,GAAG,CAAC,CAAC,CAAC,GAErCJ,QAAQ,CAAC,CAAC,GAAGM,GAAG,CAACD,IAAI,CAACD,GAAG,CAAC,CAAC,CAAC,GAE5BL,KAAK,GACLC,QAAQ,CAAC,GAAGD,KAAK,EAAC,GAAGO,GAAG,CAACD,IAAI,CAACD,GAAG,CAAC,CAAC,GAEnCJ,QAAQ,CAACM,GAAG,CAACD,IAAI,CAACD,GAAG,CAAC,CAAC;MAC3B;MACA;MACA;MACA;MACA,OAAO;QAACC,IAAI,EAAEC,GAAG,CAACD,IAAI,CAACD,GAAG;MAAC,CAAC;IAE5B,CAAC,MACI,IAAGE,GAAG,CAACD,IAAI,CAACU,OAAO,EAAC;MACvBF,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;MACtB,IAAGR,GAAG,CAACU,MAAM,IAAI,GAAG,IAAIV,GAAG,CAACU,MAAM,IAAI,GAAG,EAAChB,QAAQ,CAACH,SAAS,CAAC;MAC7D,OAAOS,GAAG,CAACD,IAAI;IACjB;IACA,IAAGC,GAAG,CAACU,MAAM,KAAK,GAAG,EAAC;MACpB,OAAO;QAACD,OAAO,EAAE,MAAKX,GAAI;MAAQ,CAAC;IACrC;EACF,CAAC;EAEH,OAAO,CAACH,OAAO,EAACF,KAAK,EAACC,QAAQ,CAAC;AAC/B,CAAC;AAAA,GA5DKJ,QAAQ;AA+Dd,eAAeA,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}