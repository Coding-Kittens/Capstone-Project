{"ast":null,"code":"var _jsxFileName = \"/Users/rosepowell/Desktop/Book_Writing/book_writing/src/pages/UserPage.js\",\n  _s = $RefreshSig$();\nimport { Link, useParams } from \"react-router-dom\";\nimport { useState, useEffect, useContext } from \"react\";\nimport settingImg from \"../sprites/settings.png\";\nimport bookImg from \"../sprites/book4.png\";\nimport bookShelfImg from \"../sprites/Librarybutton1.png\";\nimport tempImg from \"../sprites/painting.png\";\nimport newBook from \"../sprites/NewBook.png\";\nimport ink from \"../sprites/ink2.png\";\nimport useAxios from \"../hooks/useAxios\";\nimport useToggle from \"../hooks/useToggle\";\nimport PopUpForm from \"../forms/PopUpForm\";\nimport \"../css/UserPage.css\";\nimport { UserContext } from \"../context/context\";\n\n//shows a users page\n//if it is the current users page show new book, new library, and Settings\n//if its not the current users page show their books and libraries\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UserPage = () => {\n  _s();\n  const currentUser = useContext(UserContext);\n  const {\n    username\n  } = useParams();\n  const [reqUser, user, setUser] = useAxios(null);\n  const [editForm, toggleEdit, setEditForm] = useToggle(false);\n\n  //gets the user\n  useEffect(() => {\n    const getUser = async () => {\n      reqUser(\"get\", `/users/${username}`, \"user\");\n    };\n    getUser();\n  }, []);\n\n  //edits a user\n  const editUser = async data => {\n    const res = await reqUser(\"patch\", `/users/${username}`, \"user\", data);\n    console.log(res);\n    setEditForm(false);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: user && currentUser ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"UserPage\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        id: \"BookImg\",\n        src: bookImg,\n        alt: \"book\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"UserPage_1\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Autobiography\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Username: \", username]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this), editForm ? /*#__PURE__*/_jsxDEV(PopUpForm, {\n          submit: editUser,\n          inputs: [{\n            title: \"First name\",\n            name: \"first_name\"\n          }, {\n            title: \"Last name\",\n            name: \"last_name\"\n          }, {\n            title: \"Bio\",\n            name: \"bio\"\n          }],\n          initData: {\n            first_name: user.first_name,\n            last_name: user.last_name,\n            bio: user.bio ? user.bio : \"\"\n          },\n          submitText: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Full Name: \", user.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 17\n          }, this), user.bio ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: user.bio\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: currentUser.username === username ? \"No bio! Click on the ink and quil, to edit your Autobiography.\" : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"UserPage_2\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          id: \"profileImg\",\n          src: tempImg,\n          alt: \"profile pic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), currentUser.username === username ? /*#__PURE__*/_jsxDEV(\"img\", {\n          onClick: toggleEdit,\n          id: \"ink\",\n          src: ink,\n          alt: \"ink\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this), currentUser.username === username ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"UserPage_Library\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: bookShelfImg,\n            alt: \"bookshelf\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            end: true,\n            to: \"/new/library\",\n            children: \"New Library\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"UserPage_Book\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: newBook,\n            alt: \"new Book\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            end: true,\n            to: \"/new/book\",\n            children: \"New Book\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"UserPage_Settings\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: settingImg,\n            alt: \"paper\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            end: true,\n            to: \"/settings\",\n            children: \"Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"UserPage_Library\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: bookShelfImg,\n            alt: \"bookshelf\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            end: true,\n            to: `/user/${username}/libraries`,\n            children: `${username}'s Libraries`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"UserPage_Book\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: newBook,\n            alt: \"new Book\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            end: true,\n            to: `/user/${username}/books`,\n            children: `${username}'s Books`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n_s(UserPage, \"aDsU8vYd8asvp+rHcvU7TLvfxk0=\", false, function () {\n  return [useParams, useAxios, useToggle];\n});\n_c = UserPage;\nexport default UserPage;\nvar _c;\n$RefreshReg$(_c, \"UserPage\");","map":{"version":3,"names":["Link","useParams","useState","useEffect","useContext","settingImg","bookImg","bookShelfImg","tempImg","newBook","ink","useAxios","useToggle","PopUpForm","UserContext","UserPage","currentUser","username","reqUser","user","setUser","editForm","toggleEdit","setEditForm","getUser","editUser","data","res","console","log","title","name","first_name","last_name","bio"],"sources":["/Users/rosepowell/Desktop/Book_Writing/book_writing/src/pages/UserPage.js"],"sourcesContent":["import { Link, useParams } from \"react-router-dom\";\nimport { useState, useEffect, useContext } from \"react\";\nimport settingImg from \"../sprites/settings.png\";\nimport bookImg from \"../sprites/book4.png\";\nimport bookShelfImg from \"../sprites/Librarybutton1.png\";\nimport tempImg from \"../sprites/painting.png\";\nimport newBook from \"../sprites/NewBook.png\";\nimport ink from \"../sprites/ink2.png\";\nimport useAxios from \"../hooks/useAxios\";\nimport useToggle from \"../hooks/useToggle\";\nimport PopUpForm from \"../forms/PopUpForm\";\nimport \"../css/UserPage.css\";\nimport { UserContext } from \"../context/context\";\n\n//shows a users page\n//if it is the current users page show new book, new library, and Settings\n//if its not the current users page show their books and libraries\nconst UserPage = () => {\n  const currentUser = useContext(UserContext);\n  const { username } = useParams();\n\n  const [reqUser, user, setUser] = useAxios(null);\n  const [editForm, toggleEdit, setEditForm] = useToggle(false);\n\n  //gets the user\n  useEffect(() => {\n    const getUser = async () => {\n      reqUser(\"get\", `/users/${username}`, \"user\");\n    };\n    getUser();\n  }, []);\n\n  //edits a user\n  const editUser = async (data) => {\n    const res = await reqUser(\"patch\", `/users/${username}`, \"user\", data);\n    console.log(res);\n    setEditForm(false);\n  };\n\n  return (\n    <>\n      {user && currentUser ? (\n        <div className=\"UserPage\">\n          <img id=\"BookImg\" src={bookImg} alt=\"book\" />\n\n          <div className=\"UserPage_1\">\n            <h1>Autobiography</h1>\n            <h2>Username: {username}</h2>\n            {editForm ? (\n              <PopUpForm\n                submit={editUser}\n                inputs={[\n                  { title: \"First name\", name: \"first_name\" },\n                  { title: \"Last name\", name: \"last_name\" },\n                  { title: \"Bio\", name: \"bio\" },\n                ]}\n                initData={{\n                  first_name: user.first_name,\n                  last_name: user.last_name,\n                  bio: user.bio ? user.bio : \"\",\n                }}\n                submitText=\"Save\"\n              />\n            ) : (\n              <>\n                <h2>Full Name: {user.name}</h2>\n                {user.bio ? (\n                  <p>{user.bio}</p>\n                ) : (\n                  <p>\n                    {currentUser.username === username\n                      ? \"No bio! Click on the ink and quil, to edit your Autobiography.\"\n                      : null}\n                  </p>\n                )}\n              </>\n            )}\n          </div>\n\n          <div className=\"UserPage_2\">\n            <img id=\"profileImg\" src={tempImg} alt=\"profile pic\" />\n            {currentUser.username === username ? (\n              <img onClick={toggleEdit} id=\"ink\" src={ink} alt=\"ink\" />\n            ) : null}\n          </div>\n\n          {currentUser.username === username ? (\n            <>\n              <div className=\"UserPage_Library\">\n                <img src={bookShelfImg} alt=\"bookshelf\" />\n                <Link end to={\"/new/library\"}>\n                  New Library\n                </Link>\n              </div>\n\n              <div className=\"UserPage_Book\">\n                <img src={newBook} alt=\"new Book\" />\n                <Link end to={\"/new/book\"}>\n                  New Book\n                </Link>\n              </div>\n\n              <div className=\"UserPage_Settings\">\n                <img src={settingImg} alt=\"paper\" />\n                <Link end to={\"/settings\"}>\n                  Settings\n                </Link>\n              </div>\n            </>\n          ) : (\n            <>\n              <div className=\"UserPage_Library\">\n                <img src={bookShelfImg} alt=\"bookshelf\" />\n                <Link\n                  end\n                  to={`/user/${username}/libraries`}\n                >{`${username}'s Libraries`}</Link>\n              </div>\n\n              <div className=\"UserPage_Book\">\n                <img src={newBook} alt=\"new Book\" />\n                <Link\n                  end\n                  to={`/user/${username}/books`}\n                >{`${username}'s Books`}</Link>\n              </div>\n            </>\n          )}\n        </div>\n      ) : (\n        <h1>loading...</h1>\n      )}\n    </>\n  );\n};\nexport default UserPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}