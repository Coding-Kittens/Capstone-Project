{"ast":null,"code":"import _objectSpread from\"/Users/rosepowell/Desktop/Book_Writing/book_writing/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/rosepowell/Desktop/Book_Writing/book_writing/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import useFields from\"../hooks/useFields\";import{useState,useEffect}from\"react\";import useAxios from\"../hooks/useAxios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewLibraryBook=function NewLibraryBook(_ref){var addBook=_ref.addBook,username=_ref.username,title=_ref.title,_ref$isBooks=_ref.isBooks,isBooks=_ref$isBooks===void 0?true:_ref$isBooks,_ref$bookId=_ref.bookId,bookId=_ref$bookId===void 0?null:_ref$bookId,_ref$msg=_ref.msg,msg=_ref$msg===void 0?\"No books to add!\":_ref$msg;var _useAxios=useAxios([]),_useAxios2=_slicedToArray(_useAxios,2),reqItems=_useAxios2[0],items=_useAxios2[1];useEffect(function(){if(isBooks){reqItems(\"get\",\"/users/\".concat(username,\"/books\"),\"books\");}else{reqItems(\"get\",\"/users/\".concat(username,\"/libraries/\"),\"libraries\");}},[]);var initData=items?items.reduce(function(obj,items){obj[items.id]=false;return obj;},{}):null;var _useFields=useFields(_objectSpread({},initData)),_useFields2=_slicedToArray(_useFields,3),formData=_useFields2[0],handleChange=_useFields2[1],resetFormData=_useFields2[2];var handleSubmit=function handleSubmit(event){event.preventDefault();var data=bookId?{bookId:bookId,libraries:formData}:formData;addBook(data);resetFormData();};return/*#__PURE__*/_jsxs(\"form\",{className:\"Form\",onSubmit:handleSubmit,children:[items.length>0?items.map(function(items){return/*#__PURE__*/_jsxs(\"label\",{children:[items[title],/*#__PURE__*/_jsx(\"input\",{type:\"checkBox\",name:items.id,value:formData[items.id],onChange:handleChange})]},items.id);}):/*#__PURE__*/_jsx(\"h2\",{children:msg}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",name:\"button\",children:\"Save\"})]});};export default NewLibraryBook;","map":{"version":3,"names":["useFields","useState","useEffect","useAxios","NewLibraryBook","addBook","username","title","isBooks","bookId","msg","reqItems","items","initData","reduce","obj","id","formData","handleChange","resetFormData","handleSubmit","event","preventDefault","data","libraries","length","map"],"sources":["/Users/rosepowell/Desktop/Book_Writing/book_writing/src/forms/NewLibraryBook.js"],"sourcesContent":["import useFields from \"../hooks/useFields\";\nimport { useState, useEffect } from \"react\";\nimport useAxios from \"../hooks/useAxios\";\nconst NewLibraryBook = ({ addBook, username, title, isBooks = true, bookId = null, msg = \"No books to add!\"}) => {\n  const [reqItems, items] = useAxios([]);\n\n  useEffect(() => {\n    if (isBooks) {\n      reqItems(\"get\", `/users/${username}/books`, \"books\");\n    } else {\n      reqItems(\"get\", `/users/${username}/libraries/`, \"libraries\");\n    }\n  }, []);\n\n  const initData = items\n    ? items.reduce((obj, items) => {\n        obj[items.id] = false;\n        return obj;\n      }, {})\n    : null;\n\n\n  const [formData, handleChange, resetFormData] = useFields({ ...initData });\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const data = bookId ? { bookId, libraries: formData } : formData;\n    addBook(data);\n    resetFormData();\n  };\n\n  return (\n    <form className=\"Form\" onSubmit={handleSubmit}>\n      {items.length>0?\n        items.map((items) =>\n          <label key={items.id}>\n            {items[title]}\n            <input\n              type=\"checkBox\"\n              name={items.id}\n              value={formData[items.id]}\n              onChange={handleChange}\n            />\n          </label>\n        )\n       :\n        <h2>{msg}</h2>\n      }\n\n      <button type=\"submit\" name=\"button\">\n        Save\n      </button>\n    </form>\n  );\n\n};\nexport default NewLibraryBook;\n"],"mappings":"iRAAA,MAAOA,UAAS,KAAM,oBAAoB,CAC1C,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAOC,SAAQ,KAAM,mBAAmB,CAAC,wFACzC,GAAMC,eAAc,CAAG,QAAjBA,eAAc,MAA6F,IAAvFC,QAAO,MAAPA,OAAO,CAAEC,QAAQ,MAARA,QAAQ,CAAEC,KAAK,MAALA,KAAK,mBAAEC,OAAO,CAAPA,OAAO,uBAAG,IAAI,+BAAEC,MAAM,CAANA,MAAM,sBAAG,IAAI,2BAAEC,GAAG,CAAHA,GAAG,mBAAG,kBAAkB,UACzG,cAA0BP,QAAQ,CAAC,EAAE,CAAC,wCAA/BQ,QAAQ,eAAEC,KAAK,eAEtBV,SAAS,CAAC,UAAM,CACd,GAAIM,OAAO,CAAE,CACXG,QAAQ,CAAC,KAAK,kBAAYL,QAAQ,WAAU,OAAO,CAAC,CACtD,CAAC,IAAM,CACLK,QAAQ,CAAC,KAAK,kBAAYL,QAAQ,gBAAe,WAAW,CAAC,CAC/D,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMO,SAAQ,CAAGD,KAAK,CAClBA,KAAK,CAACE,MAAM,CAAC,SAACC,GAAG,CAAEH,KAAK,CAAK,CAC3BG,GAAG,CAACH,KAAK,CAACI,EAAE,CAAC,CAAG,KAAK,CACrB,MAAOD,IAAG,CACZ,CAAC,CAAE,CAAC,CAAC,CAAC,CACN,IAAI,CAGR,eAAgDf,SAAS,kBAAMa,QAAQ,EAAG,0CAAnEI,QAAQ,gBAAEC,YAAY,gBAAEC,aAAa,gBAE5C,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,KAAK,CAAK,CAC9BA,KAAK,CAACC,cAAc,EAAE,CACtB,GAAMC,KAAI,CAAGd,MAAM,CAAG,CAAEA,MAAM,CAANA,MAAM,CAAEe,SAAS,CAAEP,QAAS,CAAC,CAAGA,QAAQ,CAChEZ,OAAO,CAACkB,IAAI,CAAC,CACbJ,aAAa,EAAE,CACjB,CAAC,CAED,mBACE,cAAM,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAEC,YAAa,WAC3CR,KAAK,CAACa,MAAM,CAAC,CAAC,CACbb,KAAK,CAACc,GAAG,CAAC,SAACd,KAAK,qBACd,yBACGA,KAAK,CAACL,KAAK,CAAC,cACb,cACE,IAAI,CAAC,UAAU,CACf,IAAI,CAAEK,KAAK,CAACI,EAAG,CACf,KAAK,CAAEC,QAAQ,CAACL,KAAK,CAACI,EAAE,CAAE,CAC1B,QAAQ,CAAEE,YAAa,EACvB,GAPQN,KAAK,CAACI,EAAE,CAQZ,GACT,cAED,oBAAKN,GAAG,EAAM,cAGhB,eAAQ,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,kBAE1B,GACJ,CAGX,CAAC,CACD,cAAeN,eAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}