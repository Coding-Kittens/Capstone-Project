{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rosepowell/Desktop/Book_Writing/book_writing/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/rosepowell/Desktop/Book_Writing/book_writing/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/rosepowell/Desktop/Book_Writing/book_writing/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useParams}from\"react-router-dom\";import{useState,useEffect}from'react';import axios from'axios';import LibraryBook from'./LibraryBook';import Card from'./Card';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Library=function Library(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(),_useState2=_slicedToArray(_useState,2),books=_useState2[0],setBooks=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),library=_useState4[0],setLibrary=_useState4[1];useEffect(function(){var getBooks=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,libraryRes;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/libraries/\".concat(id,\"/books\"));case 2:res=_context.sent;_context.next=5;return axios.get(\"/libraries/\".concat(id));case 5:libraryRes=_context.sent;if(res.data.books){setBooks(function(n){return n=res.data.books;});}if(libraryRes.data.library){setLibrary(function(n){return n=libraryRes.data.library;});}case 8:case\"end\":return _context.stop();}}},_callee);}));return function getBooks(){return _ref.apply(this,arguments);};}();getBooks();},[]);var addBook=function addBook(){};return/*#__PURE__*/_jsxs(_Fragment,{children:[library?/*#__PURE__*/_jsxs(\"div\",{className:\"Library\",children:[/*#__PURE__*/_jsx(\"h1\",{children:library.name}),/*#__PURE__*/_jsxs(\"p\",{children:[library.description,\", this library is \",library.is_public?'public':\"not public\",\". \"]})]}):null,books?/*#__PURE__*/_jsx(\"ol\",{children:books.map(function(book){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(LibraryBook,{book:book})});})}):null,/*#__PURE__*/_jsx(Card,{title:\"Add book\",handleClick:addBook})]});};export default Library;","map":{"version":3,"names":["useParams","useState","useEffect","axios","LibraryBook","Card","Library","id","books","setBooks","library","setLibrary","getBooks","get","res","libraryRes","data","n","addBook","name","description","is_public","map","book"],"sources":["/Users/rosepowell/Desktop/Book_Writing/book_writing/src/Library.js"],"sourcesContent":["import { useParams } from \"react-router-dom\";\nimport {useState,useEffect} from 'react';\nimport axios from 'axios';\nimport LibraryBook from './LibraryBook';\nimport Card from './Card';\nconst Library =()=>{\nconst { id } = useParams();\n\nconst [books,setBooks]=useState();\nconst [library,setLibrary]=useState();\n\nuseEffect(()=>{\nconst getBooks = async()=>{\n  const res = await axios.get(`/libraries/${id}/books`);\n  const libraryRes = await axios.get(`/libraries/${id}`);\n  if(res.data.books){\n    setBooks((n)=> n= res.data.books);\n  }\n  if(libraryRes.data.library){\n    setLibrary((n)=> n=libraryRes.data.library);\n  }\n}\ngetBooks();\n},[])\n\n\nconst addBook=()=>{\n\n\n}\n\n\n\n  return<>\n  {library?\n    <div className='Library'>\n    <h1>{library.name}</h1>\n  <p>{library.description}, this library is {library.is_public? 'public': \"not public\"}. </p>\n  </div>\n  :\n  null\n}\n{books?\n  <ol>\n    {books.map(book => <li><LibraryBook book={book}/></li>)}\n  </ol>\n:\nnull\n}\n\n<Card title='Add book' handleClick={addBook}/>\n  </>\n}\nexport default Library;\n"],"mappings":"2aAAA,OAASA,SAAS,KAAQ,kBAAkB,CAC5C,OAAQC,QAAQ,CAACC,SAAS,KAAO,OAAO,CACxC,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAOC,YAAW,KAAM,eAAe,CACvC,MAAOC,KAAI,KAAM,QAAQ,CAAC,6IAC1B,GAAMC,QAAO,CAAE,QAATA,QAAO,EAAM,CACnB,eAAeN,SAAS,EAAE,CAAlBO,EAAE,YAAFA,EAAE,CAEV,cAAuBN,QAAQ,EAAE,wCAA1BO,KAAK,eAACC,QAAQ,eACrB,eAA2BR,QAAQ,EAAE,yCAA9BS,OAAO,eAACC,UAAU,eAEzBT,SAAS,CAAC,UAAI,CACd,GAAMU,SAAQ,4FAAG,8KACGT,MAAK,CAACU,GAAG,sBAAeN,EAAE,WAAS,QAA/CO,GAAG,qCACgBX,MAAK,CAACU,GAAG,sBAAeN,EAAE,EAAG,QAAhDQ,UAAU,eAChB,GAAGD,GAAG,CAACE,IAAI,CAACR,KAAK,CAAC,CAChBC,QAAQ,CAAC,SAACQ,CAAC,QAAIA,EAAC,CAAEH,GAAG,CAACE,IAAI,CAACR,KAAK,GAAC,CACnC,CACA,GAAGO,UAAU,CAACC,IAAI,CAACN,OAAO,CAAC,CACzBC,UAAU,CAAC,SAACM,CAAC,QAAIA,EAAC,CAACF,UAAU,CAACC,IAAI,CAACN,OAAO,GAAC,CAC7C,CAAC,sDACF,kBATKE,SAAQ,0CASb,CACDA,QAAQ,EAAE,CACV,CAAC,CAAC,EAAE,CAAC,CAGL,GAAMM,QAAO,CAAC,QAARA,QAAO,EAAK,CAGlB,CAAC,CAIC,mBAAM,2BACLR,OAAO,cACN,aAAK,SAAS,CAAC,SAAS,wBACxB,oBAAKA,OAAO,CAACS,IAAI,EAAM,cACzB,qBAAIT,OAAO,CAACU,WAAW,sBAAoBV,OAAO,CAACW,SAAS,CAAE,QAAQ,CAAE,YAAY,QAAO,GACrF,CAEN,IAAI,CAELb,KAAK,cACJ,oBACGA,KAAK,CAACc,GAAG,CAAC,SAAAC,IAAI,qBAAI,iCAAI,KAAC,WAAW,EAAC,IAAI,CAAEA,IAAK,EAAE,EAAK,GAAC,EACpD,CAEP,IAAI,cAGJ,KAAC,IAAI,EAAC,KAAK,CAAC,UAAU,CAAC,WAAW,CAAEL,OAAQ,EAAE,GACzC,CACL,CAAC,CACD,cAAeZ,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}