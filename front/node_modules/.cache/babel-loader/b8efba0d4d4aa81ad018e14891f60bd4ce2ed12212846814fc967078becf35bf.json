{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useContext } from 'react';\nimport { MessageContext } from '../context/context';\nimport { useState } from \"react\";\nimport axios from \"axios\";\nconst useAxios = initalVal => {\n  _s();\n  const msg = useContext(MessageContext);\n  console.log(msg);\n  const [state, setState] = useState(initalVal);\n  const request = async (type, url, key, data) => {\n    let res = '';\n    switch (type) {\n      case 'get':\n        res = await axios.get(url, {\n          credentials: 'include'\n        });\n        break;\n      case 'post':\n        res = await axios.post(url, {\n          credentials: 'include',\n          ...data\n        });\n        break;\n      case 'patch':\n        res = await axios.patch(url, {\n          credentials: 'include',\n          ...data\n        });\n        break;\n      case 'delete':\n        res = await axios.delete(url, {\n          credentials: 'include'\n        });\n        break;\n      default:\n        break;\n    }\n    console.log('request data', data);\n    console.log('request type', type);\n    console.log('request res', res);\n    if (res.data[key]) {\n      state ? setState(...state, res.data[key]) : setState(res.data[key]);\n      return {\n        data: res.data[key]\n      };\n    } else if (res.data.message) {\n      setState(initalVal);\n      msg['setMessage'](n => n = {\n        text: res.data.message,\n        color: 'orange'\n      });\n      // return res.data;\n    }\n\n    if (res.status === 404) {\n      return {\n        message: `No ${key} found!`\n      };\n    }\n  };\n  return [request, state, setState];\n};\n\n//\n//res.data.color\n\n// const usePost=(url,key,data)=>{\n//       const res = await axios.post(url,{credentials: 'include',...data});\n//       if(res.data[key]){\n//         return res.data[key];\n//       }else if(res.data.message){\n//         return res.data.message;\n//       }\n//       if(res.status === 404){\n//         return `No ${key} found!`;\n//       }\n// }\n//\n// const usePatch=()=>{\n//     const [state,setState] = useState(null)\n//\n//     const patchData=async(url,key,data)=>{\n//       const res = await axios.patch(url,{credentials: 'include',...data});\n//       if(res.data[key]){\n//         setState(res.data[key])\n//       }else if(res.data.message){\n//         return res.data.message;\n//       }\n//       if(res.status === 404){\n//         return `No ${key} found!`;\n//       }\n//\n//     }\n//\n//   return [state,setState,patchData];\n// }\n//\n//\n// const useDelete=async(url,key)=>{\n//       const res = await axios.delete(url,{credentials: 'include'});\n//       if(res.data.message){\n//         return res.data.message;\n//       }\n//       if(res.status === 404){\n//         return `No ${key} found!`;\n//       }\n// }\n_s(useAxios, \"NL0fXtHWD/aWb/o6VU59WPAXDts=\");\nexport default useAxios;","map":{"version":3,"names":["useContext","MessageContext","useState","axios","useAxios","initalVal","msg","console","log","state","setState","request","type","url","key","data","res","get","credentials","post","patch","delete","message","n","text","color","status"],"sources":["/Users/rosepowell/Desktop/Book_Writing/book_writing/src/hooks/useAxios.js"],"sourcesContent":["import {useContext} from 'react';\nimport {MessageContext} from '../context/context';\nimport { useState } from \"react\";\nimport axios from \"axios\";\n\nconst useAxios=(initalVal)=>{\n  const msg = useContext(MessageContext);\n  console.log(msg);\n  const [state,setState] = useState(initalVal)\n\n  const request=async(type,url,key,data)=>{\n    let res='';\n\n    switch (type){\n      case 'get':\n        res = await axios.get(url,{credentials: 'include'});\n        break;\n        case 'post':\n       res = await axios.post(url,{credentials: 'include',...data});\n          break;\n          case 'patch':\n             res = await axios.patch(url,{credentials: 'include',...data});\n            break;\n            case 'delete':\n             res = await axios.delete(url,{credentials: 'include'});\n              break;\n      default:\n      break;\n    }\n    console.log('request data',data);\nconsole.log('request type',type);\nconsole.log('request res',res);\n\n    if(res.data[key]){\n      state?\n        setState(...state,res.data[key])\n      :\n        setState(res.data[key]);\n\n      return {data: res.data[key]}\n    }else if(res.data.message){\n      setState(initalVal);\n      msg['setMessage']((n)=> n={text: res.data.message, color:'orange'});\n      // return res.data;\n    }\n    if(res.status === 404){\n      return {message:`No ${key} found!`};\n    }\n  }\n\nreturn [request,state,setState];\n}\n\n//\n//res.data.color\n\n\n// const usePost=(url,key,data)=>{\n//       const res = await axios.post(url,{credentials: 'include',...data});\n//       if(res.data[key]){\n//         return res.data[key];\n//       }else if(res.data.message){\n//         return res.data.message;\n//       }\n//       if(res.status === 404){\n//         return `No ${key} found!`;\n//       }\n// }\n//\n// const usePatch=()=>{\n//     const [state,setState] = useState(null)\n//\n//     const patchData=async(url,key,data)=>{\n//       const res = await axios.patch(url,{credentials: 'include',...data});\n//       if(res.data[key]){\n//         setState(res.data[key])\n//       }else if(res.data.message){\n//         return res.data.message;\n//       }\n//       if(res.status === 404){\n//         return `No ${key} found!`;\n//       }\n//\n//     }\n//\n//   return [state,setState,patchData];\n// }\n//\n//\n// const useDelete=async(url,key)=>{\n//       const res = await axios.delete(url,{credentials: 'include'});\n//       if(res.data.message){\n//         return res.data.message;\n//       }\n//       if(res.status === 404){\n//         return `No ${key} found!`;\n//       }\n// }\n\n\nexport default useAxios;\n"],"mappings":";AAAA,SAAQA,UAAU,QAAO,OAAO;AAChC,SAAQC,cAAc,QAAO,oBAAoB;AACjD,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAEC,SAAS,IAAG;EAAA;EAC1B,MAAMC,GAAG,GAAGN,UAAU,CAACC,cAAc,CAAC;EACtCM,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EAChB,MAAM,CAACG,KAAK,EAACC,QAAQ,CAAC,GAAGR,QAAQ,CAACG,SAAS,CAAC;EAE5C,MAAMM,OAAO,GAAC,OAAMC,IAAI,EAACC,GAAG,EAACC,GAAG,EAACC,IAAI,KAAG;IACtC,IAAIC,GAAG,GAAC,EAAE;IAEV,QAAQJ,IAAI;MACV,KAAK,KAAK;QACRI,GAAG,GAAG,MAAMb,KAAK,CAACc,GAAG,CAACJ,GAAG,EAAC;UAACK,WAAW,EAAE;QAAS,CAAC,CAAC;QACnD;MACA,KAAK,MAAM;QACZF,GAAG,GAAG,MAAMb,KAAK,CAACgB,IAAI,CAACN,GAAG,EAAC;UAACK,WAAW,EAAE,SAAS;UAAC,GAAGH;QAAI,CAAC,CAAC;QACzD;MACA,KAAK,OAAO;QACTC,GAAG,GAAG,MAAMb,KAAK,CAACiB,KAAK,CAACP,GAAG,EAAC;UAACK,WAAW,EAAE,SAAS;UAAC,GAAGH;QAAI,CAAC,CAAC;QAC9D;MACA,KAAK,QAAQ;QACZC,GAAG,GAAG,MAAMb,KAAK,CAACkB,MAAM,CAACR,GAAG,EAAC;UAACK,WAAW,EAAE;QAAS,CAAC,CAAC;QACrD;MACR;QACA;IAAM;IAERX,OAAO,CAACC,GAAG,CAAC,cAAc,EAACO,IAAI,CAAC;IACpCR,OAAO,CAACC,GAAG,CAAC,cAAc,EAACI,IAAI,CAAC;IAChCL,OAAO,CAACC,GAAG,CAAC,aAAa,EAACQ,GAAG,CAAC;IAE1B,IAAGA,GAAG,CAACD,IAAI,CAACD,GAAG,CAAC,EAAC;MACfL,KAAK,GACHC,QAAQ,CAAC,GAAGD,KAAK,EAACO,GAAG,CAACD,IAAI,CAACD,GAAG,CAAC,CAAC,GAEhCJ,QAAQ,CAACM,GAAG,CAACD,IAAI,CAACD,GAAG,CAAC,CAAC;MAEzB,OAAO;QAACC,IAAI,EAAEC,GAAG,CAACD,IAAI,CAACD,GAAG;MAAC,CAAC;IAC9B,CAAC,MAAK,IAAGE,GAAG,CAACD,IAAI,CAACO,OAAO,EAAC;MACxBZ,QAAQ,CAACL,SAAS,CAAC;MACnBC,GAAG,CAAC,YAAY,CAAC,CAAEiB,CAAC,IAAIA,CAAC,GAAC;QAACC,IAAI,EAAER,GAAG,CAACD,IAAI,CAACO,OAAO;QAAEG,KAAK,EAAC;MAAQ,CAAC,CAAC;MACnE;IACF;;IACA,IAAGT,GAAG,CAACU,MAAM,KAAK,GAAG,EAAC;MACpB,OAAO;QAACJ,OAAO,EAAE,MAAKR,GAAI;MAAQ,CAAC;IACrC;EACF,CAAC;EAEH,OAAO,CAACH,OAAO,EAACF,KAAK,EAACC,QAAQ,CAAC;AAC/B,CAAC;;AAED;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA,GA5FMN,QAAQ;AA+Fd,eAAeA,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}