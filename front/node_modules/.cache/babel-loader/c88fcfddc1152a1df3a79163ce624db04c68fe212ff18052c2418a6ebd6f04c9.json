{"ast":null,"code":"var _jsxFileName = \"/Users/rosepowell/Desktop/Book_Writing/book_writing/src/pages/UserPage.js\",\n  _s = $RefreshSig$();\nimport { Link, useParams } from \"react-router-dom\";\nimport { useState, useEffect, useContext } from 'react';\nimport settingImg from '../sprites/settings.png';\nimport bookImg from '../sprites/book4.png';\nimport bookShelfImg from '../sprites/Librarybutton1.png';\nimport tempImg from '../sprites/painting.png';\nimport newBook from '../sprites/NewBook.png';\nimport ink from '../sprites/ink2.png';\nimport axios from 'axios';\nimport useAxios from '../hooks/useAxios';\nimport useToggle from '../hooks/useToggle';\nimport PopUpForm from '../forms/PopUpForm';\nimport '../css/UserPage.css';\nimport { UserContext } from \"../context/context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UserPage = () => {\n  _s();\n  const currentUser = useContext(UserContext);\n  const {\n    username\n  } = useParams();\n\n  // const [user,setUser]= useState();\n  const [reqUser, user, setUser] = useAxios(null);\n  const [editForm, toggleEdit, setEditForm] = useToggle(false);\n  useEffect(() => {\n    const getUser = async () => {\n      reqUser('get', `/users/${username}`, 'user');\n      // const res = await axios.get(`/users/${username}`);\n      // // console.log(res);\n      // if(res.data.user){\n      //   setUser(res.data.user);\n      // }\n      // else{\n      //   setUser(null);\n      // }\n    };\n\n    getUser();\n  }, []);\n  const editUser = data => {\n    reqUser('patch', `/users/${username}`, 'user', data);\n    setEditForm(false);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: user ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"UserPage\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        id: \"BookImg\",\n        src: bookImg,\n        alt: \"book\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 2\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"UserPage_1\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Autobiography\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Username: \", username]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 4\n        }, this), editForm ? /*#__PURE__*/_jsxDEV(PopUpForm, {\n          closeForm: toggleEdit,\n          submit: editUser,\n          inputs: [{\n            title: \"First name\",\n            name: \"first_name\"\n          }, {\n            title: \"Last name\",\n            name: \"last_name\"\n          }, {\n            title: \"Bio\",\n            name: \"bio\"\n          }],\n          initData: {\n            first_name: \"\",\n            last_name: \"\",\n            bio: \"\"\n          },\n          submitText: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 6\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Full Name: \", user.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 10\n          }, this), user.bio ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: user.bio\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 7\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: currentUser.username === username ? 'No bio! Click on the ink and quil, to edit your Autobiography.' : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 2\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"UserPage_2\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          id: \"profileImg\",\n          src: tempImg,\n          alt: \"profile pic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 1\n        }, this), currentUser.username === username ? /*#__PURE__*/_jsxDEV(\"img\", {\n          onClick: toggleEdit,\n          id: \"ink\",\n          src: ink,\n          alt: \"ink\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 37\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 1\n      }, this), currentUser.username === username ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"UserPage_Library\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: bookShelfImg,\n            alt: \"bookshelf\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            end: true,\n            to: \"/new/library\",\n            children: \"New Library\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 1\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"UserPage_Book\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: newBook,\n            alt: \"new Book\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 2\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            end: true,\n            to: \"/new/book\",\n            children: \"New Book\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 1\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"UserPage_Settings\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: settingImg,\n            alt: \"paper\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            end: true,\n            to: \"/settings\",\n            children: \"Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 1\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 1\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"UserPage_Library\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: bookShelfImg,\n            alt: \"bookshelf\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            end: true,\n            to: `/user/${username}/libraries`,\n            children: `${username}'s Libraries`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 1\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"UserPage_Book\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: newBook,\n            alt: \"new Book\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 2\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            end: true,\n            to: `/user/${username}/books`,\n            children: `${username}'s Books`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 1\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 1\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 8\n    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 1\n    }, this)\n  }, void 0, false);\n};\n_s(UserPage, \"tJzTzeUtKAyFYdgmLCO3vTgeHK8=\", false, function () {\n  return [useParams, useAxios, useToggle];\n});\n_c = UserPage;\nexport default UserPage;\nvar _c;\n$RefreshReg$(_c, \"UserPage\");","map":{"version":3,"names":["Link","useParams","useState","useEffect","useContext","settingImg","bookImg","bookShelfImg","tempImg","newBook","ink","axios","useAxios","useToggle","PopUpForm","UserContext","UserPage","currentUser","username","reqUser","user","setUser","editForm","toggleEdit","setEditForm","getUser","editUser","data","title","name","first_name","last_name","bio"],"sources":["/Users/rosepowell/Desktop/Book_Writing/book_writing/src/pages/UserPage.js"],"sourcesContent":["import { Link, useParams } from \"react-router-dom\";\nimport {useState,useEffect,useContext} from 'react';\nimport settingImg from '../sprites/settings.png';\nimport bookImg from'../sprites/book4.png';\nimport bookShelfImg from '../sprites/Librarybutton1.png';\nimport tempImg from '../sprites/painting.png';\nimport newBook from '../sprites/NewBook.png';\nimport ink from '../sprites/ink2.png';\n\nimport axios from 'axios';\n\nimport useAxios from '../hooks/useAxios';\nimport useToggle from '../hooks/useToggle';\nimport PopUpForm from '../forms/PopUpForm';\n\n\nimport '../css/UserPage.css';\nimport { UserContext } from \"../context/context\";\nconst UserPage =()=>{\n  const currentUser = useContext(UserContext);\n  const { username } = useParams();\n\n  // const [user,setUser]= useState();\n  const [reqUser,user,setUser]= useAxios(null);\nconst[editForm,toggleEdit,setEditForm] = useToggle(false);\n\n\n  useEffect(()=>{\n  const getUser = async()=>{\n    reqUser('get',`/users/${username}`,'user')\n    // const res = await axios.get(`/users/${username}`);\n    // // console.log(res);\n    // if(res.data.user){\n    //   setUser(res.data.user);\n    // }\n    // else{\n    //   setUser(null);\n    // }\n\n  }\n  getUser();\n  },[])\n\n\nconst editUser =(data)=>{\nreqUser('patch',`/users/${username}`,'user',data);\nsetEditForm(false);\n}\n\n\n\nreturn <>\n{user? <div className=\"UserPage\">\n <img id=\"BookImg\" src={bookImg} alt=\"book\"/>\n\n\n <div className=\"UserPage_1\">\n   <h1>Autobiography</h1>\n   <h2>Username: {username}</h2>\n   {editForm ? (\n     <PopUpForm\n       closeForm={toggleEdit}\n       submit={editUser}\n       inputs={[\n         { title: \"First name\", name: \"first_name\" },\n         { title: \"Last name\", name: \"last_name\" },\n         { title: \"Bio\", name: \"bio\" },\n       ]}\n       initData={{\n         first_name: \"\",\n         last_name: \"\",\n         bio: \"\",\n       }}\n       submitText=\"Save\"\n     />\n   ) : <><h2>Full Name: {user.name}</h2>\n    {user.bio?\n      <p>{user.bio}</p>:\n      <p>{currentUser.username === username? 'No bio! Click on the ink and quil, to edit your Autobiography.':null}</p>\n    }</>\n   }\n </div>\n\n\n\n\n<div className=\"UserPage_2\">\n<img id=\"profileImg\" src={tempImg} alt=\"profile pic\"/>\n{currentUser.username === username? <img  onClick={toggleEdit} id=\"ink\" src={ink} alt=\"ink\"/>:null}\n</div>\n\n{currentUser.username === username?\n\n<>\n<div className='UserPage_Library'>\n<img src={bookShelfImg} alt=\"bookshelf\"/>\n<Link end to={\"/new/library\"}>New Library</Link>\n</div>\n\n<div className='UserPage_Book'>\n <img src={newBook} alt=\"new Book\"/>\n<Link end to={\"/new/book\"}>New Book</Link>\n</div>\n\n<div className='UserPage_Settings'>\n<img src={settingImg} alt=\"paper\"/>\n<Link end to={\"/settings\"}>Settings</Link>\n</div>\n</>\n\n:<>\n<div className='UserPage_Library'>\n<img src={bookShelfImg} alt=\"bookshelf\"/>\n<Link end to={`/user/${username}/libraries`}>{`${username}'s Libraries`}</Link>\n</div>\n\n<div className='UserPage_Book'>\n <img src={newBook} alt=\"new Book\"/>\n<Link end to={`/user/${username}/books`}>{`${username}'s Books`}</Link>\n</div>\n</>\n}\n\n\n\n\n</div> :\n<h1>loading...</h1>\n}\n</>\n\n}\nexport default UserPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}