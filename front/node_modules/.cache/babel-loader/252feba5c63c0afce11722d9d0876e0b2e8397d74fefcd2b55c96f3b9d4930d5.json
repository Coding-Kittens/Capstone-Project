{"ast":null,"code":"import _objectSpread from\"/Users/rosepowell/Desktop/Book_Writing/book_writing/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/rosepowell/Desktop/Book_Writing/book_writing/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/rosepowell/Desktop/Book_Writing/book_writing/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/rosepowell/Desktop/Book_Writing/book_writing/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Route,Routes,useNavigate}from'react-router-dom';import NavBar from'./NavBar';import HomePage from'./HomePage';import UserPage from'./UserPage';import PageNotFound from'./PageNotFound';import LoginForm from'./forms/LoginForm';import SignUpForm from'./forms/SignUpForm';import NewBookForm from'./forms/NewBookForm';import NewLibraryForm from'./forms/NewLibraryForm';import UserSettingsForm from'./forms/UserSettingsForm';import Search from'./Search';import UserLibraries from'./UserLibraries';import Settings from'./Settings';import WritingPage from'./WritingPage';import ReadingPage from'./ReadingPage';import Library from'./Library';import NewLibraryBook from'./forms/NewLibraryBook';import{useState,useEffect}from'react';import axios from'axios';// import AddImageForm from '/.AddImageForm.js'\nimport'./css/App.css';import'./fonts.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var navigate=useNavigate();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setUser=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];useEffect(function(){var getLoggedInUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/logged-in-user');case 2:res=_context.sent;if(res.data.username){setUser(res.data);}else{setUser(null);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function getLoggedInUser(){return _ref.apply(this,arguments);};}();getLoggedInUser();},[]);var signUp=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(data){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post('/register',_objectSpread(_objectSpread({},data),{},{is_pro_user:true}));case 2:res=_context2.sent;console.log(res);navigate(\"/\");case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function signUp(_x){return _ref2.apply(this,arguments);};}();var login=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(data){var res;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.post('/login',data);case 2:res=_context3.sent;console.log(res);setUser(res.data);navigate(\"/\");case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function login(_x2){return _ref3.apply(this,arguments);};}();var newBook=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(data){var res;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.post(\"/users/\".concat(currentUser.username,\"/books/create\"),_objectSpread(_objectSpread({},data),{},{is_public:true,username:currentUser.username}));case 2:res=_context4.sent;console.log(res);if(res.data){navigate(\"/write/book/\".concat(res.data.id));}case 5:case\"end\":return _context4.stop();}}},_callee4);}));return function newBook(_x3){return _ref4.apply(this,arguments);};}();var newLibrary=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(data){var res;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return axios.post(\"/users/\".concat(currentUser.username,\"/libraries\"),data);case 2:res=_context5.sent;console.log(res);if(res.data){navigate(\"/library/\".concat(res.data.id));}case 5:case\"end\":return _context5.stop();}}},_callee5);}));return function newLibrary(_x4){return _ref5.apply(this,arguments);};}();var logOut=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(event){var res;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:event.preventDefault();_context6.next=3;return axios.get('/logout');case 3:res=_context6.sent;console.log(res);setUser(null);navigate(\"/\");case 7:case\"end\":return _context6.stop();}}},_callee6);}));return function logOut(_x5){return _ref6.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{logOut:logOut}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:\"true\",path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{currentUser:currentUser})}),/*#__PURE__*/_jsx(Route,{exact:\"true\",path:\"/login\",element:/*#__PURE__*/_jsx(LoginForm,{login:login})}),/*#__PURE__*/_jsx(Route,{exact:\"true\",path:\"/signUp\",element:/*#__PURE__*/_jsx(SignUpForm,{signUp:signUp})}),/*#__PURE__*/_jsx(Route,{exact:\"true\",path:\"/search/books\",element:/*#__PURE__*/_jsx(Search,{})}),/*#__PURE__*/_jsx(Route,{exact:\"true\",path:\"/search/libraries\",element:/*#__PURE__*/_jsx(Search,{searchFor:1})}),/*#__PURE__*/_jsx(Route,{exact:\"true\",path:\"/explore\",element:/*#__PURE__*/_jsx(Search,{searchFor:2})}),/*#__PURE__*/_jsx(Route,{exact:\"true\",path:\"/user/:username\",element:/*#__PURE__*/_jsx(UserPage,{})}),/*#__PURE__*/_jsx(Route,{exact:\"true\",path:\"/user/:username/libraries\",element:/*#__PURE__*/_jsx(UserLibraries,{})}),/*#__PURE__*/_jsx(Route,{exact:\"true\",path:\"/library/:id\",element:/*#__PURE__*/_jsx(Library,{})}),/*#__PURE__*/_jsx(Route,{exact:\"true\",path:\"/new/library\",element:/*#__PURE__*/_jsx(NewLibraryForm,{addLibrary:newLibrary})}),/*#__PURE__*/_jsx(Route,{exact:\"true\",path:\"/new/library_book/:id\",element:/*#__PURE__*/_jsx(NewLibraryBook,{})}),/*#__PURE__*/_jsx(Route,{exact:\"true\",path:\"/new/book\",element:/*#__PURE__*/_jsx(NewBookForm,{addBook:newBook})}),/*#__PURE__*/_jsx(Route,{exact:\"true\",path:\"/book/:id\",element:/*#__PURE__*/_jsx(ReadingPage,{})}),/*#__PURE__*/_jsx(Route,{exact:\"true\",path:\"/write/book/:id\",element:/*#__PURE__*/_jsx(WritingPage,{})}),/*#__PURE__*/_jsx(Route,{exact:\"true\",path:\"/settings\",element:/*#__PURE__*/_jsx(Settings,{})}),/*#__PURE__*/_jsx(Route,{exact:\"true\",path:\"/user/settings\",element:/*#__PURE__*/_jsx(UserSettingsForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(PageNotFound,{})})]})]});}export default App;","map":{"version":3,"names":["Route","Routes","useNavigate","NavBar","HomePage","UserPage","PageNotFound","LoginForm","SignUpForm","NewBookForm","NewLibraryForm","UserSettingsForm","Search","UserLibraries","Settings","WritingPage","ReadingPage","Library","NewLibraryBook","useState","useEffect","axios","App","navigate","currentUser","setUser","message","setMessage","getLoggedInUser","get","res","data","username","signUp","post","is_pro_user","console","log","login","newBook","is_public","id","newLibrary","logOut","event","preventDefault"],"sources":["/Users/rosepowell/Desktop/Book_Writing/book_writing/src/App.js"],"sourcesContent":["import {Route,Routes,useNavigate} from 'react-router-dom';\nimport NavBar from './NavBar'\nimport HomePage from './HomePage'\nimport UserPage from './UserPage'\nimport PageNotFound from './PageNotFound'\nimport LoginForm from './forms/LoginForm'\nimport SignUpForm from './forms/SignUpForm'\nimport NewBookForm from './forms/NewBookForm'\nimport NewLibraryForm from './forms/NewLibraryForm'\nimport UserSettingsForm from './forms/UserSettingsForm'\nimport Search from './Search'\nimport UserLibraries from './UserLibraries'\nimport Settings from './Settings'\nimport WritingPage from './WritingPage'\nimport ReadingPage from './ReadingPage'\nimport Library from './Library'\nimport NewLibraryBook from './forms/NewLibraryBook';\n\nimport {useState,useEffect} from 'react';\nimport axios from 'axios';\n// import AddImageForm from '/.AddImageForm.js'\nimport './css/App.css';\nimport './fonts.css';\n\n\n\nfunction App() {\n\n\n  const navigate = useNavigate();\n  const [currentUser,setUser]= useState(null);\n  const [message, setMessage]= useState(null);\n\n\n\n  useEffect(()=>{\n  const getLoggedInUser = async()=>{\n    const res = await axios.get('/logged-in-user');\n    if(res.data.username){\n      setUser(res.data);\n    }\n    else{\n      setUser(null);\n    }\n\n  }\n  getLoggedInUser();\n  },[])\n\n\n\nconst signUp = async(data)=>{\n  let res = await axios.post('/register',{...data,is_pro_user: true});\n  console.log(res);\n  navigate(`/`);\n}\n\nconst login = async(data)=>{\n  let res = await axios.post('/login',data);\n  console.log(res);\n  setUser(res.data);\n  navigate(`/`);\n}\n\nconst newBook=async(data)=>{\n  let res = await axios.post(`/users/${currentUser.username}/books/create`,{...data,is_public:true,username:currentUser.username});\n  console.log(res);\n  if(res.data){\n    navigate(`/write/book/${res.data.id}`);\n  }\n}\n\nconst newLibrary=async(data)=>{\n  let res = await axios.post(`/users/${currentUser.username}/libraries`,data);\n  console.log(res);\n  if(res.data){\n    navigate(`/library/${res.data.id}`);\n  }\n}\n\nconst logOut = async(event)=>{\n  event.preventDefault();\n  const res = await axios.get('/logout');\n  console.log(res);\n  setUser(null);\n  navigate(`/`);\n}\n\n  return (\n    <>\n      <NavBar logOut={logOut}/>\n      <Routes>\n          <Route exact=\"true\" path='/' element={<HomePage currentUser={currentUser}/>}/>\n          <Route exact=\"true\" path='/login' element={<LoginForm login={login}/>}/>\n          <Route exact=\"true\" path='/signUp' element={<SignUpForm signUp={signUp}/>}/>\n\n          <Route exact=\"true\" path='/search/books' element={<Search/>}/>\n          <Route exact=\"true\" path='/search/libraries' element={<Search searchFor={1}/>}/>\n          <Route exact=\"true\" path='/explore' element={<Search searchFor={2}/>}/>\n\n          <Route exact=\"true\" path='/user/:username' element={<UserPage/>}/>\n          <Route exact=\"true\" path='/user/:username/libraries' element={<UserLibraries/>}/>\n\n          <Route exact=\"true\" path='/library/:id' element={<Library/>}/>\n          <Route exact=\"true\" path='/new/library' element={<NewLibraryForm addLibrary={newLibrary}/>}/>\n\n          <Route exact=\"true\" path='/new/library_book/:id' element={<NewLibraryBook/>}/>\n\n          <Route exact=\"true\" path='/new/book' element={<NewBookForm addBook={newBook}/>}/>\n          <Route exact=\"true\" path='/book/:id' element={<ReadingPage/>}/>\n          <Route exact=\"true\" path='/write/book/:id' element={<WritingPage/>}/>\n\n          <Route exact=\"true\" path='/settings' element={<Settings/>}/>\n          <Route exact=\"true\" path='/user/settings' element={<UserSettingsForm/>}/>\n\n          <Route path=\"*\" element={<PageNotFound/>} />\n      </Routes>\n  </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}