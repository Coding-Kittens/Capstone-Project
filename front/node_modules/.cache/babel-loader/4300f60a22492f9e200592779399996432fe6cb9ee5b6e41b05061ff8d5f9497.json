{"ast":null,"code":"import _slicedToArray from\"/Users/rosepowell/Desktop/Book_Writing/book_writing/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import ThemeForm from\"../forms/ThemeForm\";import ChangePasswordform from\"../forms/ChangePasswordform\";import PopUpForm from\"../forms/PopUpForm\";import{useState,useContext}from\"react\";import{UserContext,MessageContext}from\"../context/context\";import useAxios from\"../hooks/useAxios\";import\"../css/Settings.css\";//shows user settings\n//shows the change password form\n//shows the theme form\n//shows the delet user form\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Settings=function Settings(_ref){var deleteUser=_ref.deleteUser;var currentUser=useContext(UserContext);var setMessage=useContext(MessageContext).setMessage;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),deleteForm=_useState2[0],setDeleteForm=_useState2[1];var _useAxios=useAxios(currentUser),_useAxios2=_slicedToArray(_useAxios,1),reqUser=_useAxios2[0];var changePassword=function changePassword(data){reqUser(\"patch\",\"/users/\".concat(currentUser.username,\"/change_password\"),\"user\",data);};var showDeleteForm=function showDeleteForm(){setDeleteForm(true);setMessage({text:\"Are you sure you want to delete your account all of your information like, books, libraries, characters, notes, extra… will be deleted. Make sure you have a copy of the information you want to keep first!\",color:\"#BF504A\"});};return/*#__PURE__*/_jsxs(\"div\",{className:\"Settings\",children:[/*#__PURE__*/_jsx(ThemeForm,{}),/*#__PURE__*/_jsx(ChangePasswordform,{changePassword:changePassword}),/*#__PURE__*/_jsx(\"button\",{className:\"DeleteForm\",type:\"button\",onClick:showDeleteForm,children:\"Delete Account\"}),deleteForm?/*#__PURE__*/_jsx(PopUpForm,{closeForm:function closeForm(){return setDeleteForm(false);},submit:deleteUser,inputs:[{title:\"Password\",name:\"password\"}],initData:{password:\"\"},submitText:\"Im sure, Delete Account!\"}):null]});};export default Settings;","map":{"version":3,"names":["ThemeForm","ChangePasswordform","PopUpForm","useState","useContext","UserContext","MessageContext","useAxios","jsx","_jsx","jsxs","_jsxs","Settings","_ref","deleteUser","currentUser","setMessage","_useState","_useState2","_slicedToArray","deleteForm","setDeleteForm","_useAxios","_useAxios2","reqUser","changePassword","data","concat","username","showDeleteForm","text","color","className","children","type","onClick","closeForm","submit","inputs","title","name","initData","password","submitText"],"sources":["/Users/rosepowell/Desktop/Book_Writing/book_writing/front/src/pages/Settings.js"],"sourcesContent":["import ThemeForm from \"../forms/ThemeForm\";\nimport ChangePasswordform from \"../forms/ChangePasswordform\";\nimport PopUpForm from \"../forms/PopUpForm\";\nimport { useState, useContext } from \"react\";\n\nimport { UserContext, MessageContext } from \"../context/context\";\nimport useAxios from \"../hooks/useAxios\";\nimport \"../css/Settings.css\";\n\n//shows user settings\n//shows the change password form\n//shows the theme form\n//shows the delet user form\nconst Settings = ({ deleteUser }) => {\n  const currentUser = useContext(UserContext);\n  const setMessage = useContext(MessageContext).setMessage;\n\n  const [deleteForm, setDeleteForm] = useState(false);\n\n  const [reqUser] = useAxios(currentUser);\n\n  const changePassword = (data) => {\n    reqUser(\n      \"patch\",\n      `/users/${currentUser.username}/change_password`,\n      \"user\",\n      data\n    );\n  };\n\n  const showDeleteForm = () => {\n    setDeleteForm(true);\n    setMessage({\n      text:\n        \"Are you sure you want to delete your account all of your information like, books, libraries, characters, notes, extra… will be deleted. Make sure you have a copy of the information you want to keep first!\",\n      color: \"#BF504A\",\n    });\n  };\n\n  return (\n    <div className=\"Settings\">\n      <ThemeForm />\n      <ChangePasswordform changePassword={changePassword} />\n\n      <button className=\"DeleteForm\" type=\"button\" onClick={showDeleteForm}>\n        Delete Account\n      </button>\n\n      {deleteForm ? (\n        <PopUpForm\n          closeForm={() => setDeleteForm(false)}\n          submit={deleteUser}\n          inputs={[{ title: \"Password\", name: \"password\" }]}\n          initData={{\n            password: \"\",\n          }}\n          submitText=\"Im sure, Delete Account!\"\n        />\n      ) : null}\n    </div>\n  );\n};\nexport default Settings;\n"],"mappings":"+IAAA,MAAO,CAAAA,SAAS,KAAM,oBAAoB,CAC1C,MAAO,CAAAC,kBAAkB,KAAM,6BAA6B,CAC5D,MAAO,CAAAC,SAAS,KAAM,oBAAoB,CAC1C,OAASC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CAE5C,OAASC,WAAW,CAAEC,cAAc,KAAQ,oBAAoB,CAChE,MAAO,CAAAC,QAAQ,KAAM,mBAAmB,CACxC,MAAO,qBAAqB,CAE5B;AACA;AACA;AACA;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACA,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAAC,IAAA,CAAuB,IAAjB,CAAAC,UAAU,CAAAD,IAAA,CAAVC,UAAU,CAC5B,GAAM,CAAAC,WAAW,CAAGX,UAAU,CAACC,WAAW,CAAC,CAC3C,GAAM,CAAAW,UAAU,CAAGZ,UAAU,CAACE,cAAc,CAAC,CAACU,UAAU,CAExD,IAAAC,SAAA,CAAoCd,QAAQ,CAAC,KAAK,CAAC,CAAAe,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA5CG,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAEhC,IAAAI,SAAA,CAAkBf,QAAQ,CAACQ,WAAW,CAAC,CAAAQ,UAAA,CAAAJ,cAAA,CAAAG,SAAA,IAAhCE,OAAO,CAAAD,UAAA,IAEd,GAAM,CAAAE,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIC,IAAI,CAAK,CAC/BF,OAAO,CACL,OAAO,WAAAG,MAAA,CACGZ,WAAW,CAACa,QAAQ,qBAC9B,MAAM,CACNF,IAAI,CACL,CACH,CAAC,CAED,GAAM,CAAAG,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CAC3BR,aAAa,CAAC,IAAI,CAAC,CACnBL,UAAU,CAAC,CACTc,IAAI,CACF,8MAA8M,CAChNC,KAAK,CAAE,SACT,CAAC,CAAC,CACJ,CAAC,CAED,mBACEpB,KAAA,QAAKqB,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBxB,IAAA,CAACT,SAAS,IAAG,cACbS,IAAA,CAACR,kBAAkB,EAACwB,cAAc,CAAEA,cAAe,EAAG,cAEtDhB,IAAA,WAAQuB,SAAS,CAAC,YAAY,CAACE,IAAI,CAAC,QAAQ,CAACC,OAAO,CAAEN,cAAe,CAAAI,QAAA,CAAC,gBAEtE,EAAS,CAERb,UAAU,cACTX,IAAA,CAACP,SAAS,EACRkC,SAAS,CAAE,SAAAA,UAAA,QAAM,CAAAf,aAAa,CAAC,KAAK,CAAC,EAAC,CACtCgB,MAAM,CAAEvB,UAAW,CACnBwB,MAAM,CAAE,CAAC,CAAEC,KAAK,CAAE,UAAU,CAAEC,IAAI,CAAE,UAAW,CAAC,CAAE,CAClDC,QAAQ,CAAE,CACRC,QAAQ,CAAE,EACZ,CAAE,CACFC,UAAU,CAAC,0BAA0B,EACrC,CACA,IAAI,GACJ,CAEV,CAAC,CACD,cAAe,CAAA/B,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}