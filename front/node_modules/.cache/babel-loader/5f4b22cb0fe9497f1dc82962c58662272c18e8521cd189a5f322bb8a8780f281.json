{"ast":null,"code":"import _slicedToArray from\"/Users/rosepowell/Desktop/Book_Writing/book_writing/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import useFields from\"../hooks/useFields\";import\"../css/InputPage.css\";import{useEffect}from\"react\";//show the input textareas for the pages in a book\n//\n///takes:\n//the page or pages / witch is a list of objs with all the page info in it.\n//functions to change the page and save the page\n//if it is one or two pages, so later I can have books with only one page showing\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var InputPage=function InputPage(_ref){var changePage=_ref.changePage,savePage=_ref.savePage,page=_ref.page,_ref$isTwoPages=_ref.isTwoPages,isTwoPages=_ref$isTwoPages===void 0?true:_ref$isTwoPages;//sets the init val to be the page text\nvar text=page[0]?page[0].text:\"\";var init={text:text};if(isTwoPages)init[\"text2\"]=page[1]?page[1].text:\"\";var _useFields=useFields(init),_useFields2=_slicedToArray(_useFields,4),inputPage=_useFields2[0],handleChange=_useFields2[1],resetpage=_useFields2[2],setPage=_useFields2[3];//sets the page text to be the init val\nuseEffect(function(){if(inputPage){setPage(init);}},[page]);//calls changePage and passes the textarea data to it so it can save the pages\n//also gives it a num that it should add to the current page num\nvar handleClick=function handleClick(num){changePage(num,inputPage);resetpage();};return/*#__PURE__*/_jsxs(\"div\",{className:\"InputPage\",children:[page?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"textarea\",{name:\"text\",rows:\"23\",cols:\"36\",maxLength:\"997\",value:inputPage.text,onChange:handleChange}),isTwoPages?/*#__PURE__*/_jsx(\"textarea\",{name:\"text2\",rows:\"23\",cols:\"33\",maxLength:\"905\",value:inputPage.text2,onChange:handleChange}):null,/*#__PURE__*/_jsx(\"p\",{className:\"pg1\",children:page[0].page_num}),isTwoPages?/*#__PURE__*/_jsx(\"p\",{className:\"pg2\",children:page[1].page_num}):null,/*#__PURE__*/_jsx(\"div\",{className:\"ChangePageBack\",onClick:function onClick(){return handleClick(-2);}}),/*#__PURE__*/_jsx(\"div\",{className:\"ChangePageNext\",onClick:function onClick(){return handleClick(2);}})]}):null,/*#__PURE__*/_jsx(\"button\",{className:\"InputPage_Save\",type:\"button\",onClick:function onClick(){return savePage(inputPage);},children:\"Save\"})]});};export default InputPage;","map":{"version":3,"names":["useFields","useEffect","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","InputPage","_ref","changePage","savePage","page","_ref$isTwoPages","isTwoPages","text","init","_useFields","_useFields2","_slicedToArray","inputPage","handleChange","resetpage","setPage","handleClick","num","className","children","name","rows","cols","maxLength","value","onChange","text2","page_num","onClick","type"],"sources":["/Users/rosepowell/Desktop/Book_Writing/book_writing/front/src/books/InputPage.js"],"sourcesContent":["import useFields from \"../hooks/useFields\";\nimport \"../css/InputPage.css\";\nimport { useEffect } from \"react\";\n\n//show the input textareas for the pages in a book\n//\n///takes:\n//the page or pages / witch is a list of objs with all the page info in it.\n//functions to change the page and save the page\n//if it is one or two pages, so later I can have books with only one page showing\nconst InputPage = ({ changePage, savePage, page, isTwoPages = true }) => {\n  //sets the init val to be the page text\n  let text = page[0] ? page[0].text : \"\";\n  const init = {\n    text: text,\n  };\n  if (isTwoPages) init[\"text2\"] = page[1] ? page[1].text : \"\";\n\n  const [inputPage, handleChange, resetpage, setPage] = useFields(init);\n\n  //sets the page text to be the init val\n  useEffect(() => {\n    if (inputPage) {\n      setPage(init);\n    }\n  }, [page]);\n\n  //calls changePage and passes the textarea data to it so it can save the pages\n  //also gives it a num that it should add to the current page num\n  const handleClick = (num) => {\n    changePage(num, inputPage);\n    resetpage();\n  };\n\n  return (\n    <div className=\"InputPage\">\n      {page ? (\n        <>\n          <textarea\n            name=\"text\"\n            rows=\"23\"\n            cols=\"36\"\n            maxLength=\"997\"\n            value={inputPage.text}\n            onChange={handleChange}\n          ></textarea>\n          {isTwoPages ? (\n            <textarea\n              name=\"text2\"\n              rows=\"23\"\n              cols=\"33\"\n              maxLength=\"905\"\n              value={inputPage.text2}\n              onChange={handleChange}\n            ></textarea>\n          ) : null}\n          <p className=\"pg1\">{page[0].page_num}</p>\n          {isTwoPages ? <p className=\"pg2\">{page[1].page_num}</p> : null}\n\n          <div className=\"ChangePageBack\" onClick={() => handleClick(-2)}></div>\n          <div className=\"ChangePageNext\" onClick={() => handleClick(2)}></div>\n        </>\n      ) : null}\n\n      <button\n        className=\"InputPage_Save\"\n        type=\"button\"\n        onClick={() => savePage(inputPage)}\n      >\n        Save\n      </button>\n    </div>\n  );\n};\nexport default InputPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}