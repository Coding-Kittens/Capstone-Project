{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rosepowell/Desktop/Book_Writing/book_writing/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/rosepowell/Desktop/Book_Writing/book_writing/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/rosepowell/Desktop/Book_Writing/book_writing/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import useFields from'../hooks/useFields';import{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewBookCharacterForm=function NewBookCharacterForm(_ref){var addChar=_ref.addChar,username=_ref.username;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),chars=_useState2[0],setChars=_useState2[1];useEffect(function(){var getChars=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/user/\".concat(username,\"/characters\"));case 2:res=_context.sent;if(res.data){console.log(res.data);setChars(res.data);}else{setChars(null);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function getChars(){return _ref2.apply(this,arguments);};}();getChars();},[]);var initData=chars?chars.reduce(function(obj,char){obj[char.id]=false;return obj;},{}):null;var _useFields=useFields(initData),_useFields2=_slicedToArray(_useFields,3),formData=_useFields2[0],handleChange=_useFields2[1],resetFormData=_useFields2[2];var handleSubmit=function handleSubmit(event){event.preventDefault();console.log('add existing char formData',formData);addChar(formData);resetFormData();};return/*#__PURE__*/_jsxs(\"form\",{className:\"Form\",onSubmit:handleSubmit,children:[chars?chars.map(function(char){return/*#__PURE__*/_jsxs(\"label\",{children:[char.name,/*#__PURE__*/_jsx(\"input\",{type:\"checkBox\",name:char.id,value:formData[char.id],onChange:handleChange})]},char.id);}):/*#__PURE__*/_jsx(\"h2\",{children:\"No characters to add!\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",name:\"button\",children:\"Save\"})]});};export default NewBookCharacterForm;","map":{"version":3,"names":["useFields","useState","useEffect","axios","NewBookCharacterForm","addChar","username","chars","setChars","getChars","get","res","data","console","log","initData","reduce","obj","char","id","formData","handleChange","resetFormData","handleSubmit","event","preventDefault","map","name"],"sources":["/Users/rosepowell/Desktop/Book_Writing/book_writing/src/forms/NewBookCharacterForm.js"],"sourcesContent":["import useFields from '../hooks/useFields';\nimport {useState,useEffect} from 'react';\nimport axios from 'axios';\n\n\nconst NewBookCharacterForm =({addChar,username})=>{\n\n  const [chars,setChars]= useState(null);\n\n  useEffect(()=>{\n  const getChars = async()=>{\n    const res = await axios.get(`/user/${username}/characters`);\n    if(res.data){\n      console.log(res.data);\n      setChars(res.data);\n    }\n    else{\n      setChars(null);\n    }\n\n  }\n  getChars();\n  },[])\n\n\n  const initData = chars?\n  chars.reduce((obj,char) =>\n  {\n  obj[char.id]=false;\n  return obj;\n  },{})\n  :null;\n\nconst[formData,handleChange,resetFormData] = useFields(initData);\n\n\nconst handleSubmit=(event)=>{\n  event.preventDefault();\n  console.log('add existing char formData',formData);\n  addChar(formData);\n  resetFormData();\n}\n\nreturn <form className=\"Form\"  onSubmit={handleSubmit}>\n{chars? chars.map(char => <label key={char.id} >{char.name}<input type=\"checkBox\" name={char.id} value={formData[char.id]} onChange={handleChange}/></label>):<h2>No characters to add!</h2>}\n  <button type=\"submit\" name=\"button\">Save</button>\n</form>\n}\nexport default NewBookCharacterForm;\n"],"mappings":"2aAAA,MAAOA,UAAS,KAAM,oBAAoB,CAC1C,OAAQC,QAAQ,CAACC,SAAS,KAAO,OAAO,CACxC,MAAOC,MAAK,KAAM,OAAO,CAAC,wFAG1B,GAAMC,qBAAoB,CAAE,QAAtBA,qBAAoB,MAAwB,IAApBC,QAAO,MAAPA,OAAO,CAACC,QAAQ,MAARA,QAAQ,CAE5C,cAAwBL,QAAQ,CAAC,IAAI,CAAC,wCAA/BM,KAAK,eAACC,QAAQ,eAErBN,SAAS,CAAC,UAAI,CACd,GAAMO,SAAQ,6FAAG,mKACGN,MAAK,CAACO,GAAG,iBAAUJ,QAAQ,gBAAc,QAArDK,GAAG,eACT,GAAGA,GAAG,CAACC,IAAI,CAAC,CACVC,OAAO,CAACC,GAAG,CAACH,GAAG,CAACC,IAAI,CAAC,CACrBJ,QAAQ,CAACG,GAAG,CAACC,IAAI,CAAC,CACpB,CAAC,IACG,CACFJ,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAC,sDAEF,kBAVKC,SAAQ,2CAUb,CACDA,QAAQ,EAAE,CACV,CAAC,CAAC,EAAE,CAAC,CAGL,GAAMM,SAAQ,CAAGR,KAAK,CACtBA,KAAK,CAACS,MAAM,CAAC,SAACC,GAAG,CAACC,IAAI,CACtB,CACAD,GAAG,CAACC,IAAI,CAACC,EAAE,CAAC,CAAC,KAAK,CAClB,MAAOF,IAAG,CACV,CAAC,CAAC,CAAC,CAAC,CAAC,CACJ,IAAI,CAEP,eAA6CjB,SAAS,CAACe,QAAQ,CAAC,0CAA1DK,QAAQ,gBAACC,YAAY,gBAACC,aAAa,gBAGzC,GAAMC,aAAY,CAAC,QAAbA,aAAY,CAAEC,KAAK,CAAG,CAC1BA,KAAK,CAACC,cAAc,EAAE,CACtBZ,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAACM,QAAQ,CAAC,CAClDf,OAAO,CAACe,QAAQ,CAAC,CACjBE,aAAa,EAAE,CACjB,CAAC,CAED,mBAAO,cAAM,SAAS,CAAC,MAAM,CAAE,QAAQ,CAAEC,YAAa,WACrDhB,KAAK,CAAEA,KAAK,CAACmB,GAAG,CAAC,SAAAR,IAAI,qBAAI,yBAAuBA,IAAI,CAACS,IAAI,cAAC,cAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAET,IAAI,CAACC,EAAG,CAAC,KAAK,CAAEC,QAAQ,CAACF,IAAI,CAACC,EAAE,CAAE,CAAC,QAAQ,CAAEE,YAAa,EAAE,GAA9GH,IAAI,CAACC,EAAE,CAA+G,GAAC,cAAC,6CAA8B,cAC1L,eAAQ,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,kBAAc,GAC5C,CACP,CAAC,CACD,cAAef,qBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}