{"ast":null,"code":"import _objectSpread from\"/Users/rosepowell/Desktop/Book_Writing/book_writing/front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/rosepowell/Desktop/Book_Writing/book_writing/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import useFields from\"../hooks/useFields\";import{useEffect}from\"react\";import useAxios from\"../hooks/useAxios\";//a for for adding book(s) to a library\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewLibraryBook=function NewLibraryBook(_ref){var addBook=_ref.addBook,username=_ref.username,title=_ref.title,_ref$isBooks=_ref.isBooks,isBooks=_ref$isBooks===void 0?true:_ref$isBooks,_ref$bookId=_ref.bookId,bookId=_ref$bookId===void 0?null:_ref$bookId,_ref$msg=_ref.msg,msg=_ref$msg===void 0?\"No books to add!\":_ref$msg;var _useAxios=useAxios([]),_useAxios2=_slicedToArray(_useAxios,2),reqItems=_useAxios2[0],items=_useAxios2[1];//gets a list of books or libraries\n//depending on if your adding a book to librarys\n//or if you adding books to a library\nuseEffect(function(){if(isBooks){reqItems(\"get\",\"/users/\".concat(username,\"/books\"),\"books\");}else{reqItems(\"get\",\"/users/\".concat(username,\"/libraries/\"),\"libraries\");}},[]);var initData=items?items.reduce(function(obj,items){obj[items.id]=false;return obj;},{}):null;var _useFields=useFields(_objectSpread({},initData)),_useFields2=_slicedToArray(_useFields,3),formData=_useFields2[0],handleChange=_useFields2[1],resetFormData=_useFields2[2];var handleSubmit=function handleSubmit(event){event.preventDefault();var data=bookId?{bookId:bookId,libraries:formData}:formData;addBook(data);resetFormData();};return/*#__PURE__*/_jsxs(\"form\",{className:\"Form\",onSubmit:handleSubmit,children:[items.length>0?items.map(function(items){return/*#__PURE__*/_jsxs(\"label\",{children:[items[title],/*#__PURE__*/_jsx(\"input\",{type:\"checkBox\",name:items.id,value:formData[items.id],onChange:handleChange})]},items.id);}):/*#__PURE__*/_jsx(\"h2\",{children:msg}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",name:\"button\",children:\"Save\"})]});};export default NewLibraryBook;","map":{"version":3,"names":["useFields","useEffect","useAxios","jsx","_jsx","jsxs","_jsxs","NewLibraryBook","_ref","addBook","username","title","_ref$isBooks","isBooks","_ref$bookId","bookId","_ref$msg","msg","_useAxios","_useAxios2","_slicedToArray","reqItems","items","concat","initData","reduce","obj","id","_useFields","_objectSpread","_useFields2","formData","handleChange","resetFormData","handleSubmit","event","preventDefault","data","libraries","className","onSubmit","children","length","map","type","name","value","onChange"],"sources":["/Users/rosepowell/Desktop/Book_Writing/book_writing/front/src/forms/NewLibraryBook.js"],"sourcesContent":["import useFields from \"../hooks/useFields\";\nimport { useEffect } from \"react\";\nimport useAxios from \"../hooks/useAxios\";\n\n//a for for adding book(s) to a library\nconst NewLibraryBook = ({\n  addBook,\n  username,\n  title,\n  isBooks = true,\n  bookId = null,\n  msg = \"No books to add!\",\n}) => {\n  const [reqItems, items] = useAxios([]);\n\n  //gets a list of books or libraries\n  //depending on if your adding a book to librarys\n  //or if you adding books to a library\n  useEffect(() => {\n    if (isBooks) {\n      reqItems(\"get\", `/users/${username}/books`, \"books\");\n    } else {\n      reqItems(\"get\", `/users/${username}/libraries/`, \"libraries\");\n    }\n  }, []);\n\n  const initData = items\n    ? items.reduce((obj, items) => {\n        obj[items.id] = false;\n        return obj;\n      }, {})\n    : null;\n\n  const [formData, handleChange, resetFormData] = useFields({ ...initData });\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const data = bookId ? { bookId, libraries: formData } : formData;\n    addBook(data);\n    resetFormData();\n  };\n\n  return (\n    <form className=\"Form\" onSubmit={handleSubmit}>\n      {items.length > 0 ? (\n        items.map((items) => (\n          <label key={items.id}>\n            {items[title]}\n            <input\n              type=\"checkBox\"\n              name={items.id}\n              value={formData[items.id]}\n              onChange={handleChange}\n            />\n          </label>\n        ))\n      ) : (\n        <h2>{msg}</h2>\n      )}\n\n      <button type=\"submit\" name=\"button\">\n        Save\n      </button>\n    </form>\n  );\n};\nexport default NewLibraryBook;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}