{"ast":null,"code":"import _slicedToArray from\"/Users/rosepowell/Desktop/Book_Writing/book_writing/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import ThemeForm from'../forms/ThemeForm';import ChangePasswordform from'../forms/ChangePasswordform';import PopUpForm from'../forms/PopUpForm';import{useState,useContext}from'react';import{useNavigate}from'react-router-dom';import{UserContext,MessageContext}from\"../context/context\";import useAxios from'../hooks/useAxios';import'../css/Settings.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Settings=function Settings(_ref){var deleteUser=_ref.deleteUser;var currentUser=useContext(UserContext);var _useContext=useContext(MessageContext),message=_useContext.message,setMessage=_useContext.setMessage;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),deleteForm=_useState2[0],setDeleteForm=_useState2[1];var navigate=useNavigate();var _useAxios=useAxios(currentUser),_useAxios2=_slicedToArray(_useAxios,2),reqUser=_useAxios2[0],user=_useAxios2[1];var changePassword=function changePassword(data){reqUser('patch',\"/users/\".concat(currentUser.username,\"/change_password\"),'user',data);};var showDeleteForm=function showDeleteForm(){setDeleteForm(true);setMessage({text:'Are you sure you want to delete your account all of your information like, books, libraries, characters, notes, extra… will be deleted. Make sure you have a copy of the information you want to keep first!',color:'#BF504A'});};return/*#__PURE__*/_jsxs(\"div\",{className:\"Settings\",children:[/*#__PURE__*/_jsx(ThemeForm,{}),/*#__PURE__*/_jsx(ChangePasswordform,{changePassword:changePassword}),/*#__PURE__*/_jsx(\"button\",{className:\"DeleteForm\",type:\"button\",onClick:showDeleteForm,children:\"Delete Account\"}),deleteForm?/*#__PURE__*/_jsx(PopUpForm,{closeForm:function closeForm(){return setDeleteForm(false);},submit:deleteUser,inputs:[{title:\"Password\",name:\"password\"}],initData:{password:''},submitText:\"Im sure, Delete Account!\"}):null]});};export default Settings;","map":{"version":3,"names":["ThemeForm","ChangePasswordform","PopUpForm","useState","useContext","useNavigate","UserContext","MessageContext","useAxios","Settings","deleteUser","currentUser","message","setMessage","deleteForm","setDeleteForm","navigate","reqUser","user","changePassword","data","username","showDeleteForm","text","color","title","name","password"],"sources":["/Users/rosepowell/Desktop/Book_Writing/book_writing/src/pages/Settings.js"],"sourcesContent":["import ThemeForm from '../forms/ThemeForm';\nimport ChangePasswordform from '../forms/ChangePasswordform';\nimport PopUpForm from '../forms/PopUpForm';\nimport {useState,useContext} from 'react';\nimport {useNavigate} from 'react-router-dom';\nimport { UserContext, MessageContext } from \"../context/context\";\nimport useAxios from '../hooks/useAxios';\nimport '../css/Settings.css';\n\nconst Settings =({deleteUser})=>{\n  const currentUser = useContext(UserContext);\n  const {message,setMessage} = useContext(MessageContext);\nconst [deleteForm,setDeleteForm]=useState(false);\n  const navigate = useNavigate();\n\nconst [reqUser,user] = useAxios(currentUser);\n\nconst changePassword =(data)=>{\n  reqUser('patch',`/users/${currentUser.username}/change_password`,'user',data);\n}\n\nconst showDeleteForm=()=>{\n  setDeleteForm(true);\n  setMessage({text: 'Are you sure you want to delete your account all of your information like, books, libraries, characters, notes, extra… will be deleted. Make sure you have a copy of the information you want to keep first!',color:'#BF504A'});\n}\n\n  return <div className=\"Settings\">\n  <ThemeForm/>\n  <ChangePasswordform changePassword={changePassword}/>\n\n  <button className=\"DeleteForm\" type=\"button\" onClick={showDeleteForm} >Delete Account</button>\n\n  {deleteForm?\n    <PopUpForm\n    closeForm={()=>setDeleteForm(false)}\n      submit={deleteUser}\n      inputs={[\n        { title: \"Password\", name: \"password\" },\n      ]}\n      initData={{\n        password: '',\n      }}\n      submitText=\"Im sure, Delete Account!\"\n    />:null\n  }\n\n  </div>\n\n}\nexport default Settings;\n"],"mappings":"yIAAA,MAAOA,UAAS,KAAM,oBAAoB,CAC1C,MAAOC,mBAAkB,KAAM,6BAA6B,CAC5D,MAAOC,UAAS,KAAM,oBAAoB,CAC1C,OAAQC,QAAQ,CAACC,UAAU,KAAO,OAAO,CACzC,OAAQC,WAAW,KAAO,kBAAkB,CAC5C,OAASC,WAAW,CAAEC,cAAc,KAAQ,oBAAoB,CAChE,MAAOC,SAAQ,KAAM,mBAAmB,CACxC,MAAO,qBAAqB,CAAC,wFAE7B,GAAMC,SAAQ,CAAE,QAAVA,SAAQ,MAAkB,IAAdC,WAAU,MAAVA,UAAU,CAC1B,GAAMC,YAAW,CAAGP,UAAU,CAACE,WAAW,CAAC,CAC3C,gBAA6BF,UAAU,CAACG,cAAc,CAAC,CAAhDK,OAAO,aAAPA,OAAO,CAACC,UAAU,aAAVA,UAAU,CAC3B,cAAiCV,QAAQ,CAAC,KAAK,CAAC,wCAAzCW,UAAU,eAACC,aAAa,eAC7B,GAAMC,SAAQ,CAAGX,WAAW,EAAE,CAEhC,cAAuBG,QAAQ,CAACG,WAAW,CAAC,wCAArCM,OAAO,eAACC,IAAI,eAEnB,GAAMC,eAAc,CAAE,QAAhBA,eAAc,CAAGC,IAAI,CAAG,CAC5BH,OAAO,CAAC,OAAO,kBAAWN,WAAW,CAACU,QAAQ,qBAAmB,MAAM,CAACD,IAAI,CAAC,CAC/E,CAAC,CAED,GAAME,eAAc,CAAC,QAAfA,eAAc,EAAK,CACvBP,aAAa,CAAC,IAAI,CAAC,CACnBF,UAAU,CAAC,CAACU,IAAI,CAAE,8MAA8M,CAACC,KAAK,CAAC,SAAS,CAAC,CAAC,CACpP,CAAC,CAEC,mBAAO,aAAK,SAAS,CAAC,UAAU,wBAChC,KAAC,SAAS,IAAE,cACZ,KAAC,kBAAkB,EAAC,cAAc,CAAEL,cAAe,EAAE,cAErD,eAAQ,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAEG,cAAe,4BAAyB,CAE7FR,UAAU,cACT,KAAC,SAAS,EACV,SAAS,CAAE,2BAAIC,cAAa,CAAC,KAAK,CAAC,EAAC,CAClC,MAAM,CAAEL,UAAW,CACnB,MAAM,CAAE,CACN,CAAEe,KAAK,CAAE,UAAU,CAAEC,IAAI,CAAE,UAAW,CAAC,CACvC,CACF,QAAQ,CAAE,CACRC,QAAQ,CAAE,EACZ,CAAE,CACF,UAAU,CAAC,0BAA0B,EACrC,CAAC,IAAI,GAGH,CAER,CAAC,CACD,cAAelB,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}